{
  "id": "immich_photos",
  "display_name": "AI Styled Immich",
  "class": "ImmichPhotos",
  "description": "Display photos from Immich server with optional AI style transformation",
  "author": "Artframe Team",
  "version": "1.0.0",
  "icon": "icon.png",
  "settings_schema": {
    "sections": [
      {
        "title": "Immich Server",
        "fields": [
          {
            "key": "immich_url",
            "type": "url",
            "label": "Server URL",
            "placeholder": "https://immich.example.com",
            "required": true,
            "help": "Your Immich server URL"
          },
          {
            "key": "immich_api_key",
            "type": "password",
            "label": "API Key",
            "required": true,
            "help": "Get this from Immich Settings → Account Settings → API Keys"
          },
          {
            "key": "album_id",
            "type": "string",
            "label": "Album ID",
            "placeholder": "Leave empty for all photos",
            "help": "Specific album to pull photos from, or leave empty for all"
          },
          {
            "key": "selection_mode",
            "type": "select",
            "label": "Photo Selection",
            "default": "random",
            "options": [
              { "value": "random", "label": "Random" },
              { "value": "newest", "label": "Newest First" },
              { "value": "oldest", "label": "Oldest First" }
            ],
            "help": "How to select photos from the source"
          }
        ]
      },
      {
        "title": "AI Style Transformation",
        "fields": [
          {
            "key": "use_ai",
            "type": "boolean",
            "label": "Enable AI Style Transformation",
            "default": false,
            "help": "Apply artistic AI styles to photos before display"
          },
          {
            "key": "ai_service_url",
            "type": "url",
            "label": "AI Service URL",
            "placeholder": "https://api.nanobanana.com",
            "help": "NanoBanana or compatible AI service endpoint",
            "showWhen": { "key": "use_ai", "value": true }
          },
          {
            "key": "ai_api_key",
            "type": "password",
            "label": "AI API Key",
            "help": "API key for AI service",
            "showWhen": { "key": "use_ai", "value": true }
          },
          {
            "key": "ai_style",
            "type": "select",
            "label": "Style",
            "default": "ghibli",
            "options": [
              { "value": "ghibli", "label": "Studio Ghibli" },
              { "value": "watercolor", "label": "Watercolor" },
              { "value": "oil_painting", "label": "Oil Painting" },
              { "value": "impressionist", "label": "Impressionist" },
              { "value": "pencil_sketch", "label": "Pencil Sketch" }
            ],
            "help": "Artistic style to apply to photos",
            "showWhen": { "key": "use_ai", "value": true }
          }
        ]
      }
    ]
  }
}
